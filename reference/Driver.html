<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Driver — Driver • shinytest3</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Geist-0.4.10/font.css" rel="stylesheet"><link href="../deps/Fira_Code-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Driver — Driver"><meta name="description" content="A layer extending shinytest2::AppDriver. Instead of relying on fragile Shiny IDs, this driver
uses semantic test identifiers that can change independently from application logic."><meta property="og:description" content="A layer extending shinytest2::AppDriver. Instead of relying on fragile Shiny IDs, this driver
uses semantic test identifiers that can change independently from application logic."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">shinytest3</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Driver</h1>

      <div class="d-none name"><code>Driver.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A layer extending <code><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html" class="external-link">shinytest2::AppDriver</a></code>. Instead of relying on fragile Shiny IDs, this driver
uses semantic test identifiers that can change independently from application logic.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The Driver class provides a reliable testing framework by:</p><ul><li><p>Using <code>testid</code> attributes for component identification instead of Shiny IDs</p></li>
<li><p>Automatically detecting component types via <code>testtype</code> attributes</p></li>
<li><p>Dispatching appropriate actions based on component type (<code>testtype</code>)</p></li>
<li><p>Providing error checking and user-observable state validation</p></li>
</ul><p>Components should be wrapped with <code><a href="testable_component.html">testable_component()</a></code> to add the necessary
data attributes for this driver to work properly.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="co"># Wrap a component used in the app in a function.</span></span>
<span><span class="co"># Use testable_component() to attach test attrubutes.</span></span>
<span><span class="va">dropdown</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span>, <span class="va">label</span> <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">choices</span>, <span class="va">...</span>, <span class="va">testid</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">shinyWidgets</span><span class="fu">::</span><span class="fu"><a href="https://dreamrs.github.io/shinyWidgets/reference/pickerInput.html" class="external-link">pickerInput</a></span><span class="op">(</span></span>
<span>    inputId <span class="op">=</span> <span class="va">id</span>,</span>
<span>    label <span class="op">=</span> <span class="va">label</span>,</span>
<span>    choices <span class="op">=</span> <span class="va">choices</span>,</span>
<span>    <span class="va">...</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="../reference/testable_component.html">testable_component</a></span><span class="op">(</span></span>
<span>      id <span class="op">=</span> <span class="va">id</span>,</span>
<span>      testid <span class="op">=</span> <span class="va">testid</span>,</span>
<span>      testtype <span class="op">=</span> <span class="st">"dropdown"</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span></span>
<span>  ui <span class="op">=</span> <span class="fu">bslib</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/bslib/reference/page.html" class="external-link">page_fluid</a></span><span class="op">(</span></span>
<span>    <span class="co"># Attach a unique testid for each visible component</span></span>
<span>    <span class="fu">dropdown</span><span class="op">(</span></span>
<span>      id <span class="op">=</span> <span class="st">"test-picker"</span>,</span>
<span>      label <span class="op">=</span> <span class="st">"Letter"</span>,</span>
<span>      choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>,</span>
<span>      testid <span class="op">=</span> <span class="st">"Letter"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  server <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span><span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Driver.html">Driver</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">app</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Dispatch an action to "Letter" component. It sets the value to "B".</span></span>
<span><span class="co"># Custom action wasn't registered for `testtype = "dropdown"`,</span></span>
<span><span class="co"># `shinytest2::AppDriver$set_inputs` will be used to set the value.</span></span>
<span><span class="va">d</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="st">"Letter"</span>, value <span class="op">=</span> <span class="st">"B"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the value of "Letter" component.</span></span>
<span><span class="va">d</span><span class="op">$</span><span class="fu">get_value</span><span class="op">(</span>testid <span class="op">=</span> <span class="st">"Letter"</span><span class="op">)</span> <span class="co"># Will return "B"</span></span></code></pre><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="testable_component.html">testable_component()</a></code> for preparing components for testing</p>
<p><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html" class="external-link">shinytest2::AppDriver</a> for the underlying driver functionality</p></div>
    </div>
    <div class="section level2">
    <h2 id="super-class">Super class<a class="anchor" aria-label="anchor" href="#super-class"></a></h2>
    <p><code><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html" class="external-link">shinytest2::AppDriver</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-NA-dispatch"><code>Driver$dispatch()</code></a></p></li>
<li><p><a href="#method-NA-get_value"><code>Driver$get_value()</code></a></p></li>
<li><p><a href="#method-NA-get_text"><code>Driver$get_text()</code></a></p></li>
<li><p><a href="#method-NA-get"><code>Driver$get()</code></a></p></li>
<li><p><a href="#method-NA-is_visible"><code>Driver$is_visible()</code></a></p></li>
<li><p><a href="#method-NA-is_disabled"><code>Driver$is_disabled()</code></a></p></li>
<li><p><a href="#method-NA-expect_output_errors"><code>Driver$expect_output_errors()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="click"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-click"><code>shinytest2::AppDriver$click()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_download"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-expect_download"><code>shinytest2::AppDriver$expect_download()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_html"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-expect_html"><code>shinytest2::AppDriver$expect_html()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_js"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-expect_js"><code>shinytest2::AppDriver$expect_js()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_screenshot"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-expect_screenshot"><code>shinytest2::AppDriver$expect_screenshot()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_text"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-expect_text"><code>shinytest2::AppDriver$expect_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_unique_names"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-expect_unique_names"><code>shinytest2::AppDriver$expect_unique_names()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_values"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-expect_values"><code>shinytest2::AppDriver$expect_values()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_chromote_session"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_chromote_session"><code>shinytest2::AppDriver$get_chromote_session()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_dir"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_dir"><code>shinytest2::AppDriver$get_dir()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_download"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_download"><code>shinytest2::AppDriver$get_download()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_html"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_html"><code>shinytest2::AppDriver$get_html()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_js"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_js"><code>shinytest2::AppDriver$get_js()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_logs"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_logs"><code>shinytest2::AppDriver$get_logs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_screenshot"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_screenshot"><code>shinytest2::AppDriver$get_screenshot()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_url"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_url"><code>shinytest2::AppDriver$get_url()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_values"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_values"><code>shinytest2::AppDriver$get_values()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_variant"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_variant"><code>shinytest2::AppDriver$get_variant()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_window_size"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-get_window_size"><code>shinytest2::AppDriver$get_window_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="initialize"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-initialize"><code>shinytest2::AppDriver$initialize()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="log_message"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-log_message"><code>shinytest2::AppDriver$log_message()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="run_js"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-run_js"><code>shinytest2::AppDriver$run_js()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="set_inputs"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-set_inputs"><code>shinytest2::AppDriver$set_inputs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="set_window_size"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-set_window_size"><code>shinytest2::AppDriver$set_window_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="stop"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-stop"><code>shinytest2::AppDriver$stop()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="upload_file"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-upload_file"><code>shinytest2::AppDriver$upload_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="view"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-view"><code>shinytest2::AppDriver$view()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="wait_for_idle"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-wait_for_idle"><code>shinytest2::AppDriver$wait_for_idle()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="wait_for_js"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-wait_for_js"><code>shinytest2::AppDriver$wait_for_js()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="wait_for_value"><a href="https://rstudio.github.io/shinytest2/reference/AppDriver.html#method-wait_for_value"><code>shinytest2::AppDriver$wait_for_value()</code></a></span></li>
</ul></details></p><hr><a id="method-NA-dispatch"></a><div class="section">
<h3 id="method-dispatch-">Method <code>dispatch()</code><a class="anchor" aria-label="anchor" href="#method-dispatch-"></a></h3>
<p>Dispatch an action to a component based on its type</p>
<p>This method automatically detects the component type using the <code>testtype</code>
attribute and dispatches the appropriate action. The action system uses S3
method dispatch to handle different component types appropriately.</p>
<p>You can register your own custom actions by extending the <code>action</code> class:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">action.dropdown</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Open the dropdown</span></span>
<span>  <span class="co"># Click on a choice</span></span>
<span><span class="op">}</span></span></code></pre><p></p></div>
<p>If custom action isn't registered, it falls back to <code>shinytest2::AppDriver$set_inputs</code>.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Driver</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="va">testid</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>testid</code></dt>
<dd><p>A character string identifying the component via its <code>testid</code> attribute</p></dd>


<dt><code>...</code></dt>
<dd><p>Additional arguments passed to the component-specific action method.
Common arguments include <code>value</code> for setting input values.</p>
<p>Arguments passed to custom <code>action</code> implementation.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p>The dispatch system works as follows:</p><ol><li><p>Waits for the app to be idle</p></li>
<li><p>Validates that the target component is findable and visible</p></li>
<li><p>Extracts the Shiny ID and component type from data attributes</p></li>
<li><p>Creates an object with the specified class (component type)</p></li>
<li><p>Calls the appropriate <code>action.*</code> method for that component type</p></li>
</ol></div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Invisible NULL. Called for side effects.</p>
</div>
<div class="section">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# Set value for a text input
driver$dispatch("Username", value = "John Doe")

# Click a button (no additional arguments needed)
driver$dispatch("Submit")

# Set multiple selection for a picker input
driver$dispatch("Species", value = c("Setosa"))
}

</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-NA-get_value"></a><div class="section">
<h3 id="method-get-value-">Method <code>get_value()</code><a class="anchor" aria-label="anchor" href="#method-get-value-"></a></h3>
<p>Get the current value of an input component</p>
<p>Retrieves the current value of a Shiny input either by testid or by direct
input/output/export name.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Driver</span><span class="op">$</span><span class="fu">get_value</span><span class="op">(</span></span>
<span>  testid <span class="op">=</span> <span class="fu">missing_arg</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  input <span class="op">=</span> <span class="fu">missing_arg</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  output <span class="op">=</span> <span class="fu">missing_arg</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  export <span class="op">=</span> <span class="fu">missing_arg</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>testid</code></dt>
<dd><p>A character string identifying the component via its <code>testid</code>
attribute. If provided, other parameters are ignored.</p></dd>


<dt><code>input</code></dt>
<dd><p>A character string specifying the input name directly. For compatibility with shinytest2.</p></dd>


<dt><code>output</code></dt>
<dd><p>A character string specifying the output name directly. For compatibility with shinytest2.</p></dd>


<dt><code>export</code></dt>
<dd><p>A character string specifying the export name directly. For compatibility with shinytest2.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-2">Details<a class="anchor" aria-label="anchor" href="#details-2"></a></h4>
<p>When <code>testid</code> is provided:</p><ol><li><p>Waits for the app to be idle</p></li>
<li><p>Validates that the target component exists and is findable</p></li>
<li><p>Extracts the Shiny ID from the <code>testshinyid</code> attribute</p></li>
<li><p>Returns the value using the resolved ID</p></li>
</ol><p>When direct names are provided, behaves like the standard <code>shinytest2::AppDriver$get_value()</code>.</p>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>The current value of the specified input, output, or export.
Return type depends on the component type (e.g., character, numeric, list).</p>
</div>
<div class="section">
<h4 id="examples-1">Examples<a class="anchor" aria-label="anchor" href="#examples-1"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# Get value using testid (recommended)
current_text &lt;- driver$get_value(testid = "Username")

# Get value using direct input name (not recommended)
current_text &lt;- driver$get_value(input = "module-nested_module-username")

# Get value using testid (recommended)
plot_data &lt;- driver$get_value(testid = "Scatterplot")

# Get output value (not recommended)
plot_data &lt;- driver$get_value(output = "module-nested_module-main_plot")
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-NA-get_text"></a><div class="section">
<h3 id="method-get-text-">Method <code>get_text()</code><a class="anchor" aria-label="anchor" href="#method-get-text-"></a></h3>
<p>Get the text content of a component</p>
<p>Extracts the visible text content from a component, either by testid or by
CSS selector. This is useful for reading labels, button text, output text,
or any other textual content displayed in the app.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Driver</span><span class="op">$</span><span class="fu">get_text</span><span class="op">(</span>testid <span class="op">=</span> <span class="fu">missing_arg</span><span class="op">(</span><span class="op">)</span>, selector <span class="op">=</span> <span class="fu">missing_arg</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>testid</code></dt>
<dd><p>A character string identifying the component via its <code>testid</code>
attribute. If provided, selector parameter is ignored.</p></dd>


<dt><code>selector</code></dt>
<dd><p>A CSS selector string for directly targeting elements
(alternative to testid)</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-3">Details<a class="anchor" aria-label="anchor" href="#details-3"></a></h4>
<p>When <code>testid</code> is provided, the method:</p><ol><li><p>Validates that the target component exists and is findable</p></li>
<li><p>Constructs a CSS selector using the testid</p></li>
<li><p>Extracts the text content from the matching element</p></li>
</ol><p>When <code>selector</code> is provided directly, it's passed through to the underlying
<code>shinytest2::AppDriver$get_text()</code> method.</p>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>A character string containing the text content of the target element.
Returns empty string if no text is found.</p>
</div>
<div class="section">
<h4 id="examples-2">Examples<a class="anchor" aria-label="anchor" href="#examples-2"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# Get text using testid (recommended)
title_text &lt;- driver$get_text(testid = "Title")

# Get text using CSS selector (not recommended)
title_text &lt;- driver$get_text(selector = "h1.main-title")
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-NA-get"></a><div class="section">
<h3 id="method-get-">Method <code><a href="https://rdrr.io/r/base/get.html" class="external-link">get()</a></code><a class="anchor" aria-label="anchor" href="#method-get-"></a></h3>
<p>Execute custom JavaScript code on a component</p>
<p>Runs arbitrary JavaScript code in the context of a specific component identified
by testid. This provides a flexible way to interact with components or extract
information that isn't available through other driver methods.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Driver</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="va">testid</span>, <span class="va">code</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>testid</code></dt>
<dd><p>A character string identifying the component via its <code>testid</code> attribute</p></dd>


<dt><code>code</code></dt>
<dd><p>A character string containing JavaScript code to execute. The code
receives the jQuery element(s) matching the testid as its parameter.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-4">Details<a class="anchor" aria-label="anchor" href="#details-4"></a></h4>
<p>The method:</p><ol><li><p>Waits for the app to be idle</p></li>
<li><p>Constructs a JavaScript call targeting the component with the specified testid</p></li>
<li><p>Executes the provided code with the component element(s) as context</p></li>
<li><p>Returns the result</p></li>
</ol><p>The JavaScript code parameter receives a jQuery object containing the matching elements.</p>
</div>

<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>The result of the JavaScript code execution. Type depends on what the
JavaScript code returns (could be character, numeric, logical, list, etc.).</p>
</div>
<div class="section">
<h4 id="examples-3">Examples<a class="anchor" aria-label="anchor" href="#examples-3"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# Get a custom attribute value
custom_attr &lt;- driver$get("Name", "(el) =&gt; el.attr('custom')")

# Check if element has a specific CSS class
has_class &lt;- driver$get("Next step", "(el) =&gt; el.hasClass('active')")

# Count child elements
child_count &lt;- driver$get("Results list", "(el) =&gt; el.children().length")
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-NA-is_visible"></a><div class="section">
<h3 id="method-is-visible-">Method <code>is_visible()</code><a class="anchor" aria-label="anchor" href="#method-is-visible-"></a></h3>
<p>Check if a component is visible</p>
<p>Determines whether a component is currently visible in the DOM. This checks
CSS visibility, display properties, and jQuery's <code>:visible</code> pseudo-selector.
Hidden, collapsed, or display:none elements will return FALSE.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Driver</span><span class="op">$</span><span class="fu">is_visible</span><span class="op">(</span><span class="va">testid</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>testid</code></dt>
<dd><p>A character string identifying the component via its <code>testid</code> attribute</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-5">Details<a class="anchor" aria-label="anchor" href="#details-5"></a></h4>
<p>The method:</p><ol><li><p>Waits for the app to be idle</p></li>
<li><p>Executes JavaScript to check the jQuery <code>:visible</code> selector status</p></li>
<li><p>Returns the boolean result</p></li>
</ol><p>This is particularly useful for:</p><ul><li><p>Conditional UI elements that show/hide based on user input</p></li>
<li><p>Verifying that certain elements appear after actions</p></li>
<li><p>Testing responsive design behavior</p></li>
<li><p>Checking modal or popup visibility</p></li>
</ul></div>

<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A logical value: <code>TRUE</code> if the component is visible, <code>FALSE</code> otherwise.</p>
</div>
<div class="section">
<h4 id="examples-4">Examples<a class="anchor" aria-label="anchor" href="#examples-4"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# Check if an error message is visible
if (driver$is_visible("Error message")) {
  error_text &lt;- driver$get_text(testid = "Error message")
}

# Verify a modal dialog appeared
expect_true(driver$is_visible("Confirm"))

# Check if conditional UI element is shown
driver$dispatch("Show advanced options", value = TRUE)
expect_true(driver$is_visible("Advanced options"))
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-NA-is_disabled"></a><div class="section">
<h3 id="method-is-disabled-">Method <code>is_disabled()</code><a class="anchor" aria-label="anchor" href="#method-is-disabled-"></a></h3>
<p>Check if a component is disabled</p>
<p>Determines whether a component is currently disabled. This checks the <code>disabled</code>
attribute and property of HTML elements, which prevents user interaction.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Driver</span><span class="op">$</span><span class="fu">is_disabled</span><span class="op">(</span><span class="va">testid</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>testid</code></dt>
<dd><p>A character string identifying the component via its <code>testid</code> attribute</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-6">Details<a class="anchor" aria-label="anchor" href="#details-6"></a></h4>
<p>The method:</p><ol><li><p>Waits for the app to be idle</p></li>
<li><p>Executes JavaScript to check the jQuery <code>:disabled</code> selector status</p></li>
<li><p>Returns the boolean result</p></li>
</ol><p>This is useful for:</p><ul><li><p>Verifying that form controls are properly disabled/enabled based on conditions</p></li>
<li><p>Testing input validation states</p></li>
<li><p>Checking button states during processing</p></li>
<li><p>Ensuring UI elements respond correctly to application state changes</p></li>
</ul></div>

<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>A logical value: <code>TRUE</code> if the component is disabled, <code>FALSE</code> if enabled.</p>
</div>
<div class="section">
<h4 id="examples-5">Examples<a class="anchor" aria-label="anchor" href="#examples-5"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# Check if submit button is disabled when form is invalid
expect_true(driver$is_disabled("Submit"))

# Verify input becomes enabled after conditions are met
driver$dispatch("Enable options", value = TRUE)
expect_false(driver$is_disabled("Options"))
}
</code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-NA-expect_output_errors"></a><div class="section">
<h3 id="method-expect-output-errors-">Method <code>expect_output_errors()</code><a class="anchor" aria-label="anchor" href="#method-expect-output-errors-"></a></h3>
<p>Verify the expected number of Shiny output errors</p>
<p>Checks for visible Shiny error messages on the page and fails the test if the
actual number doesn't match the expected count. This is crucial for testing
error handling and ensuring your app displays appropriate error messages.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">Driver</span><span class="op">$</span><span class="fu">expect_output_errors</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>n</code></dt>
<dd><p>An integer specifying the expected number of visible Shiny output errors.
Defaults to 0 (no errors expected).</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-7">Details<a class="anchor" aria-label="anchor" href="#details-7"></a></h4>
<p>The method:</p><ol><li><p>Counts visible Shiny output errors (elements with class <code>.shiny-output-error</code>)</p></li>
<li><p>Excludes validation errors (<code>.shiny-output-error-validation</code>)</p></li>
<li><p>Compares the count to the expected number</p></li>
<li><p>If counts match, the test succeeds silently</p></li>
<li><p>If counts don't match, provides detailed failure information including
the IDs of outputs that produced errors</p></li>
</ol><p>This is typically used to verify that:</p><ul><li><p>No unexpected errors occur during normal operation (<code>n = 0</code>)</p></li>
<li><p>Expected errors appear when testing error conditions (<code>n &gt; 0</code>)</p></li>
<li><p>Error recovery works properly (errors disappear after fixes)</p></li>
</ul></div>

<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>Invisible NULL. Called for side effects (test success/failure).</p>
</div>
<div class="section">
<h4 id="examples-6">Examples<a class="anchor" aria-label="anchor" href="#examples-6"></a></h4>
<p></p><div class="r example copy"><div class="sourceCode"><pre><code>\dontrun{
# Verify no errors during normal operation
driver$expect_output_errors() # expects 0 errors

# Test that invalid input produces exactly one error
driver$dispatch("Category", value = "invalid")
driver$expect_output_errors(n = 1) # expects 1 error

driver$dispatch("Category", value = "valid")
driver$expect_output_errors() # expects 0 errors
}
</code></pre></div><p></p></div>
</div>


</div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Initialize a driver for testing</span></span></span>
<span class="r-in"><span><span class="va">driver</span> <span class="op">&lt;-</span> <span class="va">Driver</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>app_dir <span class="op">=</span> <span class="st">"path/to/app"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Interact with components using testid</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="st">"Species"</span>, value <span class="op">=</span> <span class="st">"Setosa"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check component state</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">is_visible</span><span class="op">(</span><span class="st">"Species distribution"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get component values</span></span></span>
<span class="r-in"><span><span class="va">current_value</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get_value</span><span class="op">(</span>testid <span class="op">=</span> <span class="st">"Species"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Verify no errors are present</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">expect_output_errors</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Driver$dispatch`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Set value for a text input</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="st">"Username"</span>, value <span class="op">=</span> <span class="st">"John Doe"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Click a button (no additional arguments needed)</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="st">"Submit"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set multiple selection for a picker input</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="st">"Species"</span>, value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Setosa"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Driver$get_value`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Get value using testid (recommended)</span></span></span>
<span class="r-in"><span><span class="va">current_text</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get_value</span><span class="op">(</span>testid <span class="op">=</span> <span class="st">"Username"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get value using direct input name (not recommended)</span></span></span>
<span class="r-in"><span><span class="va">current_text</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get_value</span><span class="op">(</span>input <span class="op">=</span> <span class="st">"module-nested_module-username"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get value using testid (recommended)</span></span></span>
<span class="r-in"><span><span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get_value</span><span class="op">(</span>testid <span class="op">=</span> <span class="st">"Scatterplot"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get output value (not recommended)</span></span></span>
<span class="r-in"><span><span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get_value</span><span class="op">(</span>output <span class="op">=</span> <span class="st">"module-nested_module-main_plot"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Driver$get_text`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Get text using testid (recommended)</span></span></span>
<span class="r-in"><span><span class="va">title_text</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get_text</span><span class="op">(</span>testid <span class="op">=</span> <span class="st">"Title"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get text using CSS selector (not recommended)</span></span></span>
<span class="r-in"><span><span class="va">title_text</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get_text</span><span class="op">(</span>selector <span class="op">=</span> <span class="st">"h1.main-title"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Driver$get`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Get a custom attribute value</span></span></span>
<span class="r-in"><span><span class="va">custom_attr</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"Name"</span>, <span class="st">"(el) =&gt; el.attr('custom')"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check if element has a specific CSS class</span></span></span>
<span class="r-in"><span><span class="va">has_class</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"Next step"</span>, <span class="st">"(el) =&gt; el.hasClass('active')"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Count child elements</span></span></span>
<span class="r-in"><span><span class="va">child_count</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="st">"Results list"</span>, <span class="st">"(el) =&gt; el.children().length"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Driver$is_visible`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Check if an error message is visible</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">driver</span><span class="op">$</span><span class="fu">is_visible</span><span class="op">(</span><span class="st">"Error message"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">error_text</span> <span class="op">&lt;-</span> <span class="va">driver</span><span class="op">$</span><span class="fu">get_text</span><span class="op">(</span>testid <span class="op">=</span> <span class="st">"Error message"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Verify a modal dialog appeared</span></span></span>
<span class="r-in"><span><span class="fu">expect_true</span><span class="op">(</span><span class="va">driver</span><span class="op">$</span><span class="fu">is_visible</span><span class="op">(</span><span class="st">"Confirm"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Check if conditional UI element is shown</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="st">"Show advanced options"</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">expect_true</span><span class="op">(</span><span class="va">driver</span><span class="op">$</span><span class="fu">is_visible</span><span class="op">(</span><span class="st">"Advanced options"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Driver$is_disabled`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Check if submit button is disabled when form is invalid</span></span></span>
<span class="r-in"><span><span class="fu">expect_true</span><span class="op">(</span><span class="va">driver</span><span class="op">$</span><span class="fu">is_disabled</span><span class="op">(</span><span class="st">"Submit"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Verify input becomes enabled after conditions are met</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="st">"Enable options"</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">expect_false</span><span class="op">(</span><span class="va">driver</span><span class="op">$</span><span class="fu">is_disabled</span><span class="op">(</span><span class="st">"Options"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">## Method `Driver$expect_output_errors`</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Verify no errors during normal operation</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">expect_output_errors</span><span class="op">(</span><span class="op">)</span> <span class="co"># expects 0 errors</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Test that invalid input produces exactly one error</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="st">"Category"</span>, value <span class="op">=</span> <span class="st">"invalid"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">expect_output_errors</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># expects 1 error</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">dispatch</span><span class="op">(</span><span class="st">"Category"</span>, value <span class="op">=</span> <span class="st">"valid"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">driver</span><span class="op">$</span><span class="fu">expect_output_errors</span><span class="op">(</span><span class="op">)</span> <span class="co"># expects 0 errors</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jakub Sobolewski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

